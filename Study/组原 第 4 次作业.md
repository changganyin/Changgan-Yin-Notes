## 1. 在一个分页虚存系统中，用户虚地址控件为32页，页长1KB，主存为16KB。 已知用户程序有10页长，若虚页0、1、2、3已经被调入到主存8、7、4、 10 页中，请问虚地址0BC5 和 1BC5对应的页面是否在主存中，其物理地址 是多少？
- 虚拟地址页数 = $2^{5}$
- 页长 = $2^{10}$ B
- 主存 = $2^{14}$ B
则
- 页内偏移位数 = 10
- 虚拟地址总位数 = 5 + 10 = 15

0x0BC5 = 00010 1111000101 
- 虚页号: 00010 = 2, 对应主页号 4, 在主存中
- 物理地址 = 4 * 1024 + 0x13C5 = 0x13C5

0x1BC5 = 00110 1111000101
- 虚页号: 00110 = 6, 未被映射, 不在主存中

## 2. 对于一个使用快表的页式虚存，设快表的命中率为70%，内存的存取周期为1 μs；缺页处理时，若内存有可用空间或被置换的页面在内存未被修改过，则 处理一个缺页中断需8000μs，否则需20000μs。假定被置换的页面60%是属 于后一种情况，为了保证有效存取时间不超过 2μs，问可接受的最大缺页率是多少？
设缺页率为 $p$
- 快表命中
$t_{1}=0.7 \times 1 \mu s=0.7\mu s$
- 快表未命中
$t_{2}=0.3\times\left[ p\times \left( 0.4\times 8000 +0.6 \times 20000+1\right)+\left(1-p\right)\times 2 \right] \mu s$
$$
t_{总} = t_{1}+t_{2} = 0.7+0.3\times \left(p*15201+2-2p \right) = 0.7+0.3\times \left(2+15199p\right) = 1.3+4559.7p\leq 2
$$
解得
$$
p\leq 0.0001535
$$
即可接受的最大缺页率为 0.01535%
